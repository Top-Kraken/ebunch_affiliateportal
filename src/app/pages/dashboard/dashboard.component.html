<div class="page-container">
    <div class="row">
        <div class="col-md-12 p-0">
            <h1 class="page-heading">Welcome John!</h1>
        </div>
        <div class="col-md-12 p-0">
            <div *ngIf="alertMsg.message"
                class="alert fade show d-flex justify-content-between align-items-center mt-2 p-2"
                [ngClass]="(alertMsg.type == 'danger')?'alert-danger': 'alert-success'" role="alert">
                <span>{{alertMsg.message}}</span>
                <button type="button" class="btn btn-default close" (click)="close()" data-dismiss="alert"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
        <div class="col-md-12 p-0 d-flex justify-content-between mb-5">
            <div class="card card1 flex-grow-1 me-1 me-md-5 text-center py-3 strip1 pb-0">
                <div>
                    <img src="assets/images/total-referals.png" alt="" class="card-icon">
                </div>
                <p class="d-count aleft">{{apiData?.totalReferals}}</p>
                <p class="text-muted aleft text-uppercase">Total Referals
                    <mat-icon class="align-middle">trending_flat</mat-icon>
                </p>
            </div>
            <div class="card card1 flex-grow-1 ms-1 ms-md-2 me-1 me-md-2 text-center py-3 strip2 pb-0">
                <div>
                    <img src="assets/images/points-icon.png" alt="" class="card-icon">
                </div>
                <p class="d-count aleft">{{apiData?.totalPoints}}</p>
                <p class="text-muted aleft text-uppercase">Total Points
                    <mat-icon class="align-middle">trending_flat</mat-icon>
                </p>
            </div>
            <div class="card card1 flex-grow-1 me-1 ms-md-5 text-center py-3 strip3 pb-0">
                <div>
                    <img src="assets/images/content-icon.png" alt="" class="card-icon">
                </div>
                <p class="d-count aleft">{{apiData?.totalContentShared}}</p>
                <p class="text-muted aleft text-uppercase">Campaigns Shared
                    <mat-icon class="align-middle">trending_flat</mat-icon>
                </p>
            </div>
        </div>
        <div class="col-md-12 p-0 d-flex justify-content-between">
            <h2>Banners</h2>
            <div ngbDropdown>
                <button class="btn btn-sort" id="gfg" ngbDropdownToggle>Sort By:</button>
                <div ngbDropdownMenu="gfg">
                    <button ngbDropdownItem class="btn btn-default" (click)="sortTable('alphabatical')">Alphabatical</button>
                    <button ngbDropdownItem class="btn btn-default" (click)="sortTable('new')">New
                    </button>
                    <button ngbDropdownItem class="btn btn-default" (click)="sortTable('popular')">Popular</button>
                </div>
            </div>
        </div>
        <div class="col-md-12 p-0">


        </div>
        <div class="col-md-12 p-0">
            <!-- <swiper [config]="config" #usefulSwiper1 [initialize]="true">
                <div class="swiper-wrapper">
                    <div class="swiper-slide swiper-slide1" [ngStyle]="{'background-image':'url(assets/images/banner1.png)'}">
                        <div style="position: absolute;bottom:0;width: 100%;" class="d-flex px-3 justify-content-between">
                            <h1 class="text-light">[Banner Ad Title]</h1>
                            <div class="d-flex me-3">
                                <div class="me-2">
                                    <img src="assets/images/fb.png" alt="fb">
                                </div>
                                <div class="ml-2">
                                    <mat-icon style="color:white;zoom:1.3">share</mat-icon>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        Slide 2
                    </div>
                    <div class="swiper-slide">
                        Slide 3
                    </div>
                    <div class="swiper-slide">
                        Slide 4
                    </div>
                </div>
                <div class="swiper-pagination swiper-pagination1"></div>
                <div class="swiper-button-next swiper-button-next1" (click)="usefulSwiper1.swiper.slideNext()"></div>
                <div class="swiper-button-prev swiper-button-prev1" (click)="usefulSwiper1.swiper.slidePrev()"></div>
            </swiper> -->

            <div class="card w-100 banner box-shadow mb-5 mb-md-0"
                *ngFor="let banner of apiData?.bannerList | paginate: { id: 'pagination1', itemsPerPage: 1, currentPage: p };let i = index"
                [style.background-image]="'url(' + apiData?.bannerList[i].bannerImageLink + ')'">
                <div class="banner-content mb-2">
                    <h1 class="text-light mb-0 ms-1">{{banner.bannerName}} <span style="font-size: 12px;color:gray">{{banner.bannerStartDate | date :'shortDate'}}</span></h1>
                    <div class="d-flex me-3">
                        <div class="me-2" style="cursor:pointer">
                            <img src="assets/images/fb.png" alt="fb" (click)="shareToFb(banner)">
                        </div>

                        <div class="ml-2" style="cursor:pointer">
                            <mat-icon style="color:white;zoom:1.3">share</mat-icon>
                        </div>
                    </div>
                </div>
                <div class="pagination-box"> 
                    <pagination-controls id="pagination1" (pageChange)="getPage(p = $event)" previousLabel=""
                        nextLabel="">
                    </pagination-controls>
                </div>
            </div>
        </div>
        <div class="col-md-12 p-0 mt-4 d-flex justify-content-between">
            <h2>Campaigns</h2>
            <div ngbDropdown>
                <button class="btn btn-sort" id="gfg" ngbDropdownToggle>Sort By:</button>
                <div ngbDropdownMenu="gfg">
                    <button ngbDropdownItem class="btn btn-default" (click)="sortTable('owner')">Alphabatical -
                        owner</button>
                    <button ngbDropdownItem class="btn btn-default" (click)="sortTable('title')">Alphabatical -
                        title</button>
                    <button ngbDropdownItem class="btn btn-default" (click)="sortTable('new')">New
                    </button>
                    <button ngbDropdownItem class="btn btn-default" (click)="sortTable('popular')">Popular</button>
                </div>
            </div>
        </div>
        <div class="col-md-12 p-0">
            <swiper [config]="config1" #usefulSwiper2>
                <div class="swiper-wrapper swiper-wrapper2">
                    <div class="swiper-slide" 
                        *ngFor="let campaign of apiData?.campaignList | paginate: { id: 'pagination2', itemsPerPage: 4, currentPage: p1 };let i = index"
                        
                        >
                        <div class="card">
                            
                            <div class="tile" 
                                *ngIf="campaign.campaignType == 'image'"
                                [ngStyle]="{'background-image': 'url(' + campaign.campaignImageLink + ')'}">
                            </div>
                            <div class="tile" 
                                *ngIf="campaign.campaignType == 'video'"
                                >
                                <video width="100%" [poster]="campaign.campaignImageLink" controls>
                                    <source [src]="campaign.campaignVideoLink" type="video/mp4">
                                </video>
                            </div>
                            <!-- <img [src]="campaign.campaignImageLink" alt="kia" class="slide-img"> -->
                            <h3 class="text-left mb-0">{{campaign.campaignDescription}}</h3>
                            <div style="position: absolute;right:4px;top:4px;cursor: pointer;" (click)="openCampaignShareModal(campaign)">
                                <mat-icon style="color:#a73ea1">share</mat-icon>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- <div class="swiper-pagination swiper-pagination1"></div> -->
                <div class="swiper-button-next swiper-button-next2" (click)="usefulSwiper2.swiper.slideNext()"></div>
                <div class="swiper-button-prev swiper-button-prev2" (click)="usefulSwiper2.swiper.slidePrev()"></div>
            </swiper>
        </div>
        <div class="col-md-12">
            <div class="card pagination-card text-center">
                <pagination-controls id="pagination2" (pageChange)="getPage(p1 = $event)" previousLabel="" nextLabel="">
                </pagination-controls>
            </div>
        </div>
    </div>
</div>